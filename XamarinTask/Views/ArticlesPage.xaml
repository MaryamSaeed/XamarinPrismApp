<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:prism="http://prismlibrary.com"
                prism:ViewModelLocator.AutowireViewModel="True"
                x:Class="XamarinTask.Views.Articles"
                Title="{Binding Title}">
    <ContentPage.ToolbarItems>
        <ToolbarItem Name ="Search Icon" IconImageSource="search.png"/>
    </ContentPage.ToolbarItems>
    <CollectionView ItemsSource="{Binding Articles}" ItemsLayout="VerticalList" 
        SelectionMode="Single" 
        SelectedItem="{Binding SelectdArticle }"
        SelectionChangedCommand="{Binding ItemSelectedChanged}" >
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <AbsoluteLayout>
                    <StackLayout HorizontalOptions="Center" BackgroundColor="{StaticResource BackgroundColor}" Margin="10,10,10,10">
                    <Frame Padding="0" VerticalOptions="StartAndExpand">
                        <Image Source="{Binding urlToImage}" Aspect="AspectFit"/>
                    </Frame>
                        <Label Text="{Binding title}" FontSize="Title" TextColor="{StaticResource NameTextColor}" Padding="10,0,0,0"/>
                        <Label Text="{Binding author,StringFormat='By {0}'}" FontSize="Medium" Padding="10,0,0,0"/>
                        <Label Text="{Binding publishedAt,StringFormat='{0:MMMM dd, yyyy}'}" FontSize="Small" HorizontalTextAlignment="End" Padding="0,0,10,10"/>
                    </StackLayout>
                </AbsoluteLayout>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>